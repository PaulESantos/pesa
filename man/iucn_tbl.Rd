% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/iucn_table.R
\name{iucn_tbl}
\alias{iucn_tbl}
\title{Query IUCN Red List Categories for a List of Species}
\usage{
iucn_tbl(splist, api = NULL, var_name = "scientific_name")
}
\arguments{
\item{splist}{A character vector of species names or a data frame
containing a column with species names.}

\item{api}{A character string with a valid IUCN Red List API key.
This is required to query the IUCN service.}

\item{var_name}{If \code{splist} is a data frame, \code{var_name} indicates
the name of the column containing species names.}
}
\value{
A tibble with the original name (\code{orig_name}), parsed genus
and species (\code{orig_genus}, \code{orig_species}), and the corresponding
IUCN Red List category (\code{category}). If \code{splist} is a data frame,
all original columns will be returned with the category appended.
}
\description{
This function takes a character vector or data frame containing species
names and returns a tidy tibble with the original names and their
corresponding IUCN Red List categories. Species names are cleaned,
parsed, and checked to ensure they follow a binomial format before
querying the IUCN Red List API.
}
\details{
The function performs the following steps:
\itemize{
\item Standardizes and cleans the input names (removing hybrids, normalizing
format).
\item Classifies names into genus and species components.
\item Verifies whether names are binomial; non-binomial names are retained
but not queried.
\item Queries the IUCN Red List API using genus and species for binomial names.
\item Joins IUCN category results with the original list.
}

The function uses internal helper functions: \code{.names_standardize()},
\code{.splist_classify()}, \code{.classify_algo()}, \code{.transform_split_classify()},
\code{.check_binomial()}, \code{.splist_format_df()}.
}
\examples{
\dontrun{
species <- c("Polylepis incana", "Oreopanax aff. mutisianus", "Xylopia sp.")
api_key <- "your_api_key_here"
iucn_tbl(species, api = api_key)
}

}
